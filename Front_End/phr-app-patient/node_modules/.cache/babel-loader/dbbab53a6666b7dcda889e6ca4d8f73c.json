{"ast":null,"code":"var _jsxFileName = \"/home/philips/fabric/phr-app/src/components/Homepage.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '@okta/okta-react';\nexport default withAuth(class Homepage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: null\n    };\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  async checkAuthentication() {\n    const authenticated = await this.props.auth.isAuthenticated();\n\n    if (authenticated !== this.state.authenticated) {\n      this.setState({\n        authenticated\n      });\n    }\n  }\n\n  async componentDidMount() {\n    this.checkAuthentication();\n    fetch('https://dev-357341.okta.com/api/v1/users/me', {\n      method: 'get',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Custom-Allowed-Origin-Header-1': 'http://130.147.175.222:8092/Homepage',\n        Authorization: 'SSWS 00lVxvLE_yLY68atO_Qj6dKFcdvb0QqqPke4G_WYSC'\n      },\n      json: true\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      console.log(res);\n    });\n  }\n\n  async componentDidUpdate() {\n    this.checkAuthentication();\n    const user = this.props.auth.getUser();\n    console.log(JSON.stringify(user._v));\n  }\n\n  async login() {\n    this.props.auth.login('/');\n  }\n\n  async logout() {\n    this.props.auth.logout('/');\n  }\n\n  render() {\n    if (this.state.authenticated === null) return null;\n    const button = this.state.authenticated ? React.createElement(\"button\", {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Logout\") : React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Login\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Home\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/protected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Protected\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), button);\n  }\n\n});","map":{"version":3,"sources":["/home/philips/fabric/phr-app/src/components/Homepage.js"],"names":["React","Component","Link","withAuth","Homepage","constructor","props","state","authenticated","checkAuthentication","bind","login","logout","auth","isAuthenticated","setState","componentDidMount","fetch","method","headers","Accept","Authorization","json","then","response","res","console","log","componentDidUpdate","user","getUser","JSON","stringify","_v","render","button"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from '@okta/okta-react';\n\nexport default withAuth(class Homepage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { authenticated: null };\n    this.checkAuthentication = this.checkAuthentication.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  async checkAuthentication() {\n    const authenticated = await this.props.auth.isAuthenticated();\n    if (authenticated !== this.state.authenticated) {\n      this.setState({ authenticated });\n    }\n  }\n\n  async componentDidMount() {\n    this.checkAuthentication();\n\n        fetch('https://dev-357341.okta.com/api/v1/users/me',{\n            method:'get',\n            headers:{\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin':'*',\n              'Custom-Allowed-Origin-Header-1':'http://130.147.175.222:8092/Homepage',\n              Authorization: 'SSWS 00lVxvLE_yLY68atO_Qj6dKFcdvb0QqqPke4G_WYSC'        \n            },\n            json: true   \n          }).then(response => {\n            return response.json();    \n          }).then(res =>{\n            console.log(res);      \n          });        \n\n  }\n\n  async componentDidUpdate() {\n    this.checkAuthentication();\n    const user = this.props.auth.getUser();\n    console.log(JSON.stringify(user._v));\n    \n  }\n\n  async login() {\n    this.props.auth.login('/');\n  }\n\n  async logout() {\n    this.props.auth.logout('/');\n  }\n \n  render() {\n    if (this.state.authenticated === null) return null;\n\n    const button = this.state.authenticated ?\n      <button onClick={this.logout}>Logout</button> :\n      <button onClick={this.login}>Login</button>;\n      \n    return (\n      <div>\n        <Link to='/'>Home</Link><br/>\n        <Link to='/protected'>Protected</Link><br/>\n        {button}\n       \n      </div>\n    );\n  }\n});"]},"metadata":{},"sourceType":"module"}