{"ast":null,"code":"var _jsxFileName = \"/home/philips/fabric/phr-app/src/components/ProviderPermissions.js\";\nimport React from \"react\";\nimport Modal from 'react-responsive-modal';\nimport { eye } from 'react-icons-kit/feather/eye';\nimport { ButtonToolbar } from 'reactstrap';\nimport ProfileBar from \"./layouts/ProfileBar\";\nimport ProviderNav from \"./layouts/ProviderNav\";\nimport { withAuth } from '@okta/okta-react';\nimport { Icon } from 'react-icons-kit';\nvar param = null;\nvar param2 = null;\nvar username = null;\nconst requests = [];\nconst blockdata = [];\n\nconst TableRow4 = ({\n  SrNo,\n  blockNumber,\n  prevHash,\n  currentHash\n}) => {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, SrNo), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, blockNumber), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, prevHash), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, currentHash));\n};\n\nexport default withAuth(class ProviderPermissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      result: null,\n      patientID: null,\n      category: null,\n      categoryID: null,\n      patdata: null,\n      datahash: null\n    };\n    this.onOpenModal = this.onOpenModal.bind(this);\n    this.onCloseModal = this.onCloseModal.bind(this);\n    this.componentWillMount = this.componentWillMount.bind(this);\n    this.viewData = this.viewData.bind(this);\n    this.checkResult = this.checkResult.bind(this);\n    this.getpatdata = this.getpatdata.bind(this);\n    this.checkData = this.checkData.bind(this);\n    this.putModal = this.putModal.bind(this);\n    this.putblockdata = this.putblockdata.bind(this);\n  }\n\n  putblockdata() {\n    fetch('http://130.147.175.222:8099/chaindashboard?' + \"\".concat(param2), {\n      method: 'get'\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        return res.json();\n      } else {\n        console.log('sometihng went wrong');\n      }\n    }).then(function (json) {\n      var count = 1;\n\n      for (var i in json) {\n        let blocks = {\n          srno: count,\n          block: json[i]\n        };\n        blockdata.push(blocks);\n        count = count + 1;\n      }\n\n      console.log(blockdata);\n    });\n  }\n\n  onOpenModal() {\n    this.setState({\n      open: true\n    });\n  }\n\n  onCloseModal() {\n    this.setState({\n      open: false\n    });\n  }\n\n  componentWillMount() {\n    blockdata.length = 0;\n    requests.length = 0;\n    this.props.auth.getUser().then(res => {\n      console.log(res);\n      username = res.preferred_username;\n      console.log(username);\n      param = \"proID=\" + username;\n      param2 = \"patID=\" + username;\n    }).then(() => {\n      fetch('http://130.147.175.222:8099/queryproreq?' + \"\".concat(param), {\n        method: 'get'\n      }).then(res => {\n        if (res.status >= 200 && res.status < 300) {\n          return res.json();\n        } else {\n          console.log('sometihng went wrong');\n        }\n      }).then(function (json) {\n        for (var i in json) {\n          console.log(json[i].Key);\n          console.log(json[i].Record);\n          let req = {\n            reqID: json[i].Key,\n            record: json[i].Record\n          };\n          requests.push(req);\n        }\n\n        console.log(requests);\n      });\n      this.putblockdata();\n    });\n  }\n\n  viewData(Req, PatientID, Category, CategoryID) {\n    var response = '';\n    var reqparam = 'reqID=' + Req;\n    console.log(\"hello1\");\n    console.log('The ViewData button was clicked. ');\n    fetch('http://130.147.175.222:8099/proview?' + \"\".concat(reqparam) + '&' + \"\".concat(param), {\n      method: 'get',\n      headers: {\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        console.log(\"hello12\");\n        this.checkResult(res.json(), PatientID, Category, CategoryID);\n      } else {\n        console.log('sometihng went wrong');\n      }\n    });\n  }\n\n  checkResult(res, PatientID, Category, CategoryID) {\n    res.then(data => {\n      console.log(\"hello123\");\n      console.log(data);\n      this.setState({\n        result: data.result,\n        patientID: PatientID,\n        category: Category,\n        categoryID: CategoryID\n      });\n\n      if (this.state.result !== \"false\") {\n        console.log(\"hello1234\");\n        this.getpatdata();\n        console.log(this.state);\n      } else {\n        console.log(\"Request not accepted\");\n      }\n    });\n  }\n\n  getpatdata() {\n    console.log(\"hello12345\");\n    var patIDparam = 'patID=' + this.state.patientID;\n    var catparam = 'category=' + this.state.category;\n    var catIDparam = 'categoryID=' + this.state.categoryID;\n    fetch('http://130.147.175.222:8099/queryproview?' + \"\".concat(patIDparam) + '&' + \"\".concat(catparam) + '&' + \"\".concat(catIDparam), {\n      method: 'get',\n      headers: {\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        console.log(\"hello123456\");\n        console.log(res);\n        this.checkData(res.json());\n      } else {\n        console.log('sometihng went wrong');\n      }\n    });\n  }\n\n  checkData(res) {\n    console.log(\"hello1234567\");\n    res.then(data => {\n      this.setState({\n        patdata: data\n      });\n      console.log(this.state.patdata.hash);\n\n      if (this.state.patdata.hash === this.state.result) {\n        console.log(\"hello12345678\");\n        this.onOpenModal();\n      } else {\n        var response = {\n          message: \"Data instance has changed\"\n        };\n        this.setState({\n          patdata: response\n        });\n        console.log(this.state);\n        console.log(\"Data instance has changed\");\n      }\n    });\n  }\n\n  putModal() {\n    if (this.state.open === true) {\n      var data = JSON.stringify(this.state.patdata.data);\n      console.log(data);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"PatientID: \", this.state.patientID), data);\n    } else return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    console.log(\"hurray\");\n\n    const TableRow1 = ({\n      Req,\n      PatientID,\n      Category,\n      CategoryID,\n      Status\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, Req), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, PatientID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, Category), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, CategoryID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, Status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(ButtonToolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          this.viewData(Req, PatientID, Category, CategoryID);\n        },\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        size: '18',\n        icon: eye,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      })))));\n    };\n\n    const TableRow2 = ({\n      Req,\n      PatientID,\n      Category,\n      CategoryID,\n      Status\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, Req), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, PatientID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, Category), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, CategoryID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, Status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }));\n    };\n\n    console.log(\"featured\");\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(ProfileBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(ProviderNav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card card-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card card-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Requested Patients Status\")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"PatientID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"CategoryID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, requests.map(request => {\n      if (request.record.Status === \"accepted\") {\n        return React.createElement(TableRow1, {\n          key: request.reqID,\n          Req: request.reqID,\n          PatientID: request.record.PatientID,\n          Category: request.record.Category,\n          CategoryID: request.record.CategoryID,\n          Status: request.record.Status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(TableRow2, {\n          key: request.reqID,\n          Req: request.reqID,\n          PatientID: request.record.PatientID,\n          Category: request.record.Category,\n          CategoryID: request.record.CategoryID,\n          Status: request.record.Status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        });\n      }\n    }))))))), React.createElement(Modal, {\n      open: this.state.open,\n      onClose: e => {\n        this.onCloseModal(e);\n      },\n      center: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"700px\",\n        height: \"300px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \" Patient Data \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }), this.putModal())), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, \" BLOCKS\"), React.createElement(\"div\", {\n      className: \"card card-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"Block Number\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"Previous Hash\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Current Hash\"))), React.createElement(\"tbody\", {\n      style: {\n        'wordBreak': 'break-all'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, blockdata.map(upload => {\n      return React.createElement(TableRow4, {\n        key: upload.srno,\n        SrNo: upload.srno,\n        blockNumber: upload.block.blockNumber,\n        prevHash: upload.block.prevHash,\n        currentHash: upload.block.dataHash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      });\n    })))))))))));\n  }\n\n});","map":{"version":3,"sources":["/home/philips/fabric/phr-app/src/components/ProviderPermissions.js"],"names":["React","Modal","eye","ButtonToolbar","ProfileBar","ProviderNav","withAuth","Icon","param","param2","username","requests","blockdata","TableRow4","SrNo","blockNumber","prevHash","currentHash","ProviderPermissions","Component","constructor","props","state","open","result","patientID","category","categoryID","patdata","datahash","onOpenModal","bind","onCloseModal","componentWillMount","viewData","checkResult","getpatdata","checkData","putModal","putblockdata","fetch","method","then","res","status","json","console","log","count","i","blocks","srno","block","push","setState","length","auth","getUser","preferred_username","Key","Record","req","reqID","record","Req","PatientID","Category","CategoryID","response","reqparam","headers","data","patIDparam","catparam","catIDparam","hash","message","JSON","stringify","render","TableRow1","Status","TableRow2","map","request","e","width","height","fontSize","upload","dataHash"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Modal from 'react-responsive-modal';\nimport {eye} from 'react-icons-kit/feather/eye';\nimport { ButtonToolbar } from 'reactstrap';\nimport ProfileBar from \"./layouts/ProfileBar\";\nimport ProviderNav from \"./layouts/ProviderNav\";\nimport { withAuth } from '@okta/okta-react';\nimport { Icon } from 'react-icons-kit';\n\nvar param=null;\nvar param2=null;\nvar username=null;\nconst requests = [];\n\nconst blockdata =[];\nconst TableRow4 = ({ SrNo, blockNumber, prevHash, currentHash}) => {\n  return (\n    <tr>\n      <td>{SrNo}</td>\n      <td>{blockNumber}</td>\n      <td>{prevHash}</td>\n      <td>{currentHash}</td>\n    </tr>\n  );\n}\nexport default withAuth (class ProviderPermissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open:false,\n      result:null,\n      patientID:null,\n      category:null,\n      categoryID:null,\n      patdata:null,\n      datahash:null\n    };\n    this.onOpenModal = this.onOpenModal.bind(this);\n    this.onCloseModal = this.onCloseModal.bind(this);\n    this.componentWillMount = this.componentWillMount.bind(this);\n    this.viewData = this.viewData.bind(this);\n    this.checkResult = this.checkResult.bind(this);\n    this.getpatdata = this.getpatdata.bind(this);\n    this.checkData = this.checkData.bind(this);\n    this.putModal = this.putModal.bind(this);\n    this.putblockdata = this.putblockdata.bind(this);\n  }\n\n  putblockdata(){\n    fetch('http://130.147.175.222:8099/chaindashboard?'+`${param2}`,{\n     method: 'get'\n   }).then(res =>{if (res.status>=200 && res.status<300) {\n     return res.json();\n  }\n else {\n   console.log('sometihng went wrong');\n      }\n    }).then(function (json){\n      var count = 1;\n      for (var i in json){\n        let blocks={\n          srno:count,\n          block:json[i]\n        };\n        blockdata.push(blocks);\n        count = count +1;\n      }\n      console.log(blockdata)\n    });\n  }\n\n  onOpenModal() {\n    this.setState({open:true});\n  }\n\n  onCloseModal() {\n    this.setState({open:false});\n  }\n\n  componentWillMount(){\n    blockdata.length=0;\n    requests.length=0;\n    this.props.auth.getUser().then(res =>{\n        console.log(res);\n        username = res.preferred_username;\n        console.log(username);\n        param=\"proID=\"+username;\n        param2=\"patID=\"+username;      \n      }).then(()=>{\n      fetch('http://130.147.175.222:8099/queryproreq?'+`${param}`,{\n       method: 'get'\n     }).then(res =>{if (res.status>=200 && res.status<300) {\n      return res.json();\n    }\n   else {\n     console.log('sometihng went wrong');\n        }\n      }).then(function (json){\n        for (var i in json){\n        console.log(json[i].Key);\n        console.log(json[i].Record);\n        let req={\n          reqID:json[i].Key,\n          record:json[i].Record\n        }\n        requests.push(req);\n        }\n        console.log(requests);\n      });\n    this.putblockdata();\n    }\n);\n}\n\n    viewData(Req, PatientID, Category,CategoryID){\n      var response = '' ;\n      var reqparam='reqID='+Req;\n      console.log(\"hello1\");\n      console.log('The ViewData button was clicked. ');\n       fetch('http://130.147.175.222:8099/proview?'+`${reqparam}`+'&'+`${param}`,{\n         method: 'get',\n         headers: {'Access-Control-Allow-Origin':'*'}\n       }).then(res =>{if (res.status>=200 && res.status<300) {\n         console.log(\"hello12\");\n        this.checkResult(res.json(),PatientID, Category,CategoryID);\n      }\n     else {\n       console.log('sometihng went wrong');\n          }\n        });\n\n  }\n\n  checkResult(res,PatientID, Category,CategoryID){\n    res.then(data =>{\n      console.log(\"hello123\");\n      console.log(data)\n      this.setState({\n        result:data.result,\n        patientID:PatientID,\n        category:Category,\n        categoryID:CategoryID\n      })\n      if(this.state.result !== \"false\"){\n          console.log(\"hello1234\");\n       this.getpatdata();\n       console.log(this.state)\n     } else{\n       console.log(\"Request not accepted\")\n     }\n    });\n\n  }\n  getpatdata(){\n      console.log(\"hello12345\");\n      var patIDparam = 'patID='+this.state.patientID;\n      var catparam = 'category='+this.state.category;\n      var catIDparam = 'categoryID='+this.state.categoryID;\n      fetch('http://130.147.175.222:8099/queryproview?'+`${patIDparam}`+'&'+`${catparam}`+'&'+`${catIDparam}`,{\n             method: 'get',\n             headers: {'Access-Control-Allow-Origin':'*'}\n           }).then(res =>{if (res.status>=200 && res.status<300) {\n                console.log(\"hello123456\");\n                console.log(res);\n                this.checkData(res.json());\n              }\n            else {\n                console.log('sometihng went wrong');\n            }\n          });\n  }\n\n  checkData(res){\n    console.log(\"hello1234567\");\n    res.then(data =>{\n      this.setState({patdata:data});\n      console.log(this.state.patdata.hash);\n      if(this.state.patdata.hash === this.state.result ){\n        console.log(\"hello12345678\");\n        this.onOpenModal();\n    } else {\n      var response = {\n        message:\"Data instance has changed\"\n      };\n      this.setState({patdata:response});\n      console.log(this.state)\n      console.log(\"Data instance has changed\")\n    }\n\n    });\n\n  }\n\n  putModal (){\n        if(this.state.open===true){\n          var data = JSON.stringify(this.state.patdata.data);\n          console.log(data);\n          return(\n            <div>\n            <h3>PatientID: {this.state.patientID}</h3>\n              {\n                data\n              }\n            </div>\n          );\n        }\n        else\n          return (<div></div>)\n      }\n\n\n  render() {\n    console.log(\"hurray\")\n    const TableRow1 = ({ Req, PatientID, Category, CategoryID, Status}) => {\n        return (\n          <tr>\n            <td>{Req}</td>\n            <td>{PatientID}</td>\n            <td>{Category}</td>\n            <td>{CategoryID}</td>\n            <td>{Status}</td>\n            <td>\n            <ButtonToolbar>\n              <button type=\"button\" onClick={()=>{this.viewData(Req, PatientID, Category,CategoryID);}} className=\"btn btn-primary\"><Icon size={'18'} icon={eye}/></button>\n            </ButtonToolbar>\n            </td>\n          </tr>\n        );\n      }\n\n      const TableRow2 = ({ Req, PatientID, Category, CategoryID, Status}) => {\n          return (\n            <tr>\n              <td>{Req}</td>\n              <td>{PatientID}</td>\n              <td>{Category}</td>\n              <td>{CategoryID}</td>\n              <td>{Status}</td>\n              <td>\n              </td>\n            </tr>\n          );\n        }\n\n    console.log(\"featured\");\n\n    return (\n    <div>\n    <div>\n        <ProfileBar />\n        <ProviderNav />\n    </div>\n    <div>\n        <div className=\"container\">\n      <div className=\"card card-lg\">\n        <div className =\"card card-primary\">\n              <div className =\"card-heading\">\n                <b>Requested Patients Status</b>\n              </div>\n              <div className =\"card-body\">\n                <div className =\"table-hover\">\n                  <table className =\"table\">\n                    <thead>\n                      <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">PatientID</th>\n                        <th scope=\"col\">Category</th>\n                        <th scope=\"col\">CategoryID</th>\n                        <th scope=\"col\">Status</th>\n                        <th scope=\"col\">Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                    {\n                          requests.map((request) => {\n                            if(request.record.Status === \"accepted\"){\n                              return (\n                                  <TableRow1\n                                    key={request.reqID}\n                                    Req={request.reqID}\n                                    PatientID={request.record.PatientID}\n                                    Category={request.record.Category}\n                                    CategoryID={request.record.CategoryID}\n                                    Status={request.record.Status}\n                                  />);\n                                }\n                            else {\n                              return(\n                              <TableRow2\n                                key={request.reqID}\n                                Req={request.reqID}\n                                PatientID={request.record.PatientID}\n                                Category={request.record.Category}\n                                CategoryID={request.record.CategoryID}\n                                Status={request.record.Status}\n                              />);\n                            }\n\n                          })\n                    }\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n          </div>\n      </div>\n        <Modal open = {this.state.open} onClose={(e)=>{this.onCloseModal(e)}} center>\n                    <div style={{width: \"700px\", height:\"300px\"}}>\n                      <h1> Patient Data </h1>\n                      <hr />\n                      {\n                        this.putModal()\n                      }\n                    </div>\n        </Modal>\n\n        <div className =\"col-12\">\n<div className =\"row-1\">\n    <div className =\"card-heading\"> BLOCKS</div>\n       <div className =\"card card-primary\">\n      <div className =\"card-body\">\n       <div className =\"table-hover\">\n        <table className =\"table\" style={{fontSize:'15px'}}>\n        <thead>\n       <tr>\n       <th scope=\"col\">#</th>\n       <th scope=\"col\">Block Number</th>\n       <th scope=\"col\">Previous Hash</th>\n       <th scope=\"col\">Current Hash</th>\n       </tr>\n       </thead>\n       <tbody style={{'wordBreak': 'break-all'}}>\n        {\n           blockdata.map((upload) => {\n             return (\n                 <TableRow4\n                   key={upload.srno}\n                   SrNo={upload.srno}\n                   blockNumber={upload.block.blockNumber}\n                   prevHash={upload.block.prevHash}\n                   currentHash={upload.block.dataHash}\n                 />\n             );\n           })\n         }\n\n       </tbody>\n       </table>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n  </div>\n  </div>\n    );\n  }\n});"]},"metadata":{},"sourceType":"module"}