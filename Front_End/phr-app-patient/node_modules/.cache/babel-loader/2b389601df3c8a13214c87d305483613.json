{"ast":null,"code":"var _jsxFileName = \"/home/philips/fabric/phr-app/src/components/PatientPermissions.js\";\nimport React from \"react\";\nimport { check } from 'react-icons-kit/feather/check';\nimport { x } from 'react-icons-kit/feather/x';\nimport { ButtonToolbar } from 'reactstrap';\nimport { Icon } from 'react-icons-kit';\nimport Nav from \"./layouts/Nav\";\nimport ProfileBar from \"./layouts/ProfileBar\";\nimport { withAuth } from '@okta/okta-react';\nexport default withAuth(class PatientPermissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      param: null,\n      patID: null,\n      requests: [],\n      blockdata: []\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.putblockdata = this.putblockdata.bind(this);\n    this.getdata = this.getdata.bind(this);\n    this.setblockdata = this.setblockdata.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.auth.getUser().then(res => {\n      console.log(res);\n      const pat_ID = res.preferred_username;\n      console.log(pat_ID);\n      const paramdata = \"patID=\" + pat_ID;\n      this.setState({\n        param: paramdata,\n        patID: pat_ID\n      });\n    }).then(() => {\n      fetch('http://130.147.175.222:8099/querypatreq?' + this.state.param, {\n        method: 'get'\n      }).then(res => {\n        if (res.status >= 200 && res.status < 300) {\n          return this.getdata(res.json());\n        } else {\n          console.log('sometihng went wrong');\n        }\n      });\n    });\n  }\n\n  getdata(json1) {\n    json1.then(json => {\n      console.log(json);\n\n      for (var i in json) {\n        console.log(json[i].Key);\n        console.log(json[i].Record);\n        let req = {\n          reqID: json[i].Key,\n          record: json[i].Record\n        };\n        this.setState({\n          requests: [...this.state.requests, req]\n        });\n      }\n\n      console.log(this.state.requests);\n      console.log(this.state.param);\n      this.putblockdata();\n    });\n  }\n\n  putblockdata() {\n    fetch('http://130.147.175.222:8099/chaindashboard?' + this.state.param, {\n      method: 'get'\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        return this.setblockdata(res.json());\n      } else {\n        console.log('sometihng went wrong');\n      }\n    });\n  }\n\n  setblockdata(json1) {\n    json1.then(json => {\n      var count = 1;\n\n      for (var i in json) {\n        let blocks = {\n          srno: count,\n          block: json[i]\n        };\n        this.setState({\n          blockdata: [...this.state.blockdata, blocks]\n        });\n        count = count + 1;\n      }\n    });\n  }\n\n  acceptRequest(Req, PatientID) {\n    console.log('The accept button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"response\": \"accepted\",\n      \"patID\": PatientID\n    };\n    fetch('http://130.147.175.222:8099/response', {\n      method: 'post',\n      body: JSON.stringify(payload),\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        console.log(res);\n      } else {\n        console.log('sometihng went wrong');\n      }\n    }).catch(err => err);\n    console.log(payload);\n  }\n\n  rejectRequest(Req, PatientID) {\n    console.log('The button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"response\": \"rejected\",\n      \"patID\": PatientID\n    };\n    fetch('http://130.147.175.222:8099/response', {\n      method: 'post',\n      body: JSON.stringify(payload),\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        console.log(res);\n      } else {\n        console.log('sometihng went wrong');\n      }\n    }).catch(err => err);\n    console.log(payload);\n  }\n\n  revokeRequest(Req, PatientID) {\n    console.log('The button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"patID\": PatientID\n    };\n    fetch('http://130.147.175.222:8099/revoke', {\n      method: 'post',\n      body: JSON.stringify(payload),\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    }).then(res => {\n      if (res.status >= 200 && res.status < 300) {\n        console.log(res);\n      } else {\n        console.log('sometihng went wrong');\n      }\n    }).catch(err => err);\n    console.log(payload);\n  }\n\n  render() {\n    console.log(\"featured\");\n\n    const TableRow1 = ({\n      Req,\n      ProviderID,\n      Category,\n      CategoryID,\n      Status\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, Req), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, ProviderID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, Category), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, CategoryID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, Status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(ButtonToolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.acceptRequest(Req, this.state.patID),\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        size: '18',\n        icon: check,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.rejectRequest(Req, this.state.patID),\n        className: \"btn btn-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        size: '18',\n        icon: x,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })))));\n    };\n\n    const TableRow2 = ({\n      Req,\n      ProviderID,\n      Category,\n      CategoryID,\n      Status\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, Req), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, ProviderID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, Category), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, CategoryID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, Status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(ButtonToolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.revokeRequest(Req, this.state.patID),\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        size: '18',\n        icon: x,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      })))));\n    };\n\n    const TableRow3 = ({\n      Req,\n      ProviderID,\n      Category,\n      CategoryID,\n      Status\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, Req), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, ProviderID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, Category), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, CategoryID), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, Status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }));\n    };\n\n    const TableRow4 = ({\n      SrNo,\n      blockNumber,\n      prevHash,\n      currentHash\n    }) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, SrNo), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, blockNumber), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, prevHash), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, currentHash));\n    };\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(ProfileBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"well well-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"DoctorID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"CategoryID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Response\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, this.state.requests.map(request => {\n      if (request.record.Status == \"pending\") {\n        return React.createElement(TableRow1, {\n          key: request.reqID,\n          Req: request.reqID,\n          ProviderID: request.record.ProviderID,\n          Category: request.record.Category,\n          CategoryID: request.record.CategoryID,\n          Status: request.record.Status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        });\n      } else if (request.record.Status == \"accepted\") {\n        return React.createElement(TableRow2, {\n          key: request.reqID,\n          Req: request.reqID,\n          ProviderID: request.record.ProviderID,\n          Category: request.record.Category,\n          CategoryID: request.record.CategoryID,\n          Status: request.record.Status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(TableRow3, {\n          key: request.reqID,\n          Req: request.reqID,\n          ProviderID: request.record.ProviderID,\n          Category: request.record.Category,\n          CategoryID: request.record.CategoryID,\n          Status: request.record.Status,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        });\n      }\n    })))))))), React.createElement(\"div\", {\n      className: \"col-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://static0.fitbit.com/simple.b-cssdisabled-jpg.h0c2a5f210795535caebd5d7da4a1d7e0.pack?items=%2Fcontent%2Fassets%2Fapp2%2Fimages%2Fscreen-04-log-weight.jpg\",\n      height: \"400\",\n      width: \"250\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \" BLOCKS\"), React.createElement(\"div\", {\n      className: \"panel panel-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      style: {\n        fontSize: '15px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"Block Number\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Previous Hash\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"Current Hash\"))), React.createElement(\"tbody\", {\n      style: {\n        'wordBreak': 'break-all'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, this.state.blockdata.map(upload => {\n      return React.createElement(TableRow4, {\n        key: upload.srno,\n        SrNo: upload.srno,\n        blockNumber: upload.block.blockNumber,\n        prevHash: upload.block.prevHash,\n        currentHash: upload.block.dataHash,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      });\n    })))))))))));\n  }\n\n});","map":{"version":3,"sources":["/home/philips/fabric/phr-app/src/components/PatientPermissions.js"],"names":["React","check","x","ButtonToolbar","Icon","Nav","ProfileBar","withAuth","PatientPermissions","Component","constructor","props","state","param","patID","requests","blockdata","componentDidMount","bind","putblockdata","getdata","setblockdata","auth","getUser","then","res","console","log","pat_ID","preferred_username","paramdata","setState","fetch","method","status","json","json1","i","Key","Record","req","reqID","record","count","blocks","srno","block","acceptRequest","Req","PatientID","payload","body","JSON","stringify","headers","catch","err","rejectRequest","revokeRequest","render","TableRow1","ProviderID","Category","CategoryID","Status","TableRow2","TableRow3","TableRow4","SrNo","blockNumber","prevHash","currentHash","map","request","fontSize","upload","dataHash"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {check} from 'react-icons-kit/feather/check'\nimport {x} from 'react-icons-kit/feather/x'\nimport { ButtonToolbar } from 'reactstrap';\nimport { Icon } from 'react-icons-kit'\nimport Nav from \"./layouts/Nav\";\nimport ProfileBar from \"./layouts/ProfileBar\";\nimport { withAuth } from '@okta/okta-react';\n\nexport default withAuth(class PatientPermissions extends React.Component {\n  constructor (props){\n    super(props);\n    this.state={\n      param:null,\n      patID:null,\n      requests:[],\n      blockdata:[]\n    }\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.putblockdata = this.putblockdata.bind(this);\n    this.getdata = this.getdata.bind(this);\n    this.setblockdata = this.setblockdata.bind(this);\n  }\n\n  componentDidMount(){\n    this.props.auth.getUser().then(res =>{\n      console.log(res);\n      const pat_ID = res.preferred_username;\n      console.log(pat_ID);\n      const paramdata=\"patID=\"+pat_ID;\n      this.setState({\n        param:paramdata,\n        patID:pat_ID\n      });   \n    }).then(()=>{\n    fetch('http://130.147.175.222:8099/querypatreq?'+this.state.param,{\n     method: 'get'\n    }).then(res =>{if (res.status>=200 && res.status<300) {\n    \n    return this.getdata(res.json());\n    }\n    else {\n      console.log('sometihng went wrong');\n          }\n        });\n    });\n}    \n    getdata(json1){\n          json1.then((json)=>{\n            console.log(json)\n            for (var i in json){\n            console.log(json[i].Key);\n            console.log(json[i].Record);\n            let req={\n              reqID:json[i].Key,\n              record:json[i].Record\n            }          \n            this.setState({\n              requests:[...this.state.requests,req]\n            });\n            }\n            console.log(this.state.requests);\n            console.log(this.state.param);\n            this.putblockdata();\n            });\n        }\n          \n              \n  \n\n  putblockdata(){\n    fetch('http://130.147.175.222:8099/chaindashboard?'+this.state.param,{\n     method: 'get'\n   }).then(res =>{if (res.status>=200 && res.status<300) {\n     \n     return this.setblockdata(res.json());\n  }\n else {\n   console.log('sometihng went wrong');\n      }\n    });\n  }\n    setblockdata(json1){\n      json1.then((json)=>{\n        var count = 1;\n        for (var i in json){\n          let blocks={\n            srno:count,\n            block:json[i]\n          };\n          this.setState({\n            blockdata:[...this.state.blockdata,blocks]\n          });\n          count = count +1;\n        }\n      });\n    }\n      \n    \n  \n\n  acceptRequest(Req,PatientID) {\n    console.log('The accept button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"response\": \"accepted\",\n      \"patID\": PatientID\n    };\n  \n     fetch('http://130.147.175.222:8099/response',{\n       method: 'post',\n       body : JSON.stringify(payload),\n       headers: {'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}\n     }).then(res =>{if (res.status>=200 && res.status<300) {\n       console.log(res);\n     }\n   else {\n     console.log('sometihng went wrong');\n        }\n      }).catch(err => err);\n  \n    console.log(payload);\n  }\n  \n  rejectRequest(Req,PatientID) {  \n    console.log('The button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"response\": \"rejected\",\n      \"patID\": PatientID\n    };\n  \n     fetch('http://130.147.175.222:8099/response',{\n       method: 'post',\n       body : JSON.stringify(payload),\n       headers: {'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}\n     }).then(res =>{if (res.status>=200 && res.status<300) {\n       console.log(res);\n     }\n   else {\n     console.log('sometihng went wrong');\n        }\n      }).catch(err => err);\n  \n    console.log(payload);\n  }\n  \n  revokeRequest(Req,PatientID) {  \n    console.log('The button was clicked. ');\n    var payload = {\n      \"reqID\": Req,\n      \"patID\": PatientID\n    };\n  \n     fetch('http://130.147.175.222:8099/revoke',{\n       method: 'post',\n       body : JSON.stringify(payload),\n       headers: {'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}\n     }).then(res =>{if (res.status>=200 && res.status<300) {\n       console.log(res);\n     }\n   else {\n     console.log('sometihng went wrong');\n        }\n      }).catch(err => err);\n  \n    console.log(payload);\n  }\n\n  render() {\n    console.log(\"featured\");\n    \n    const TableRow1 = ({ Req, ProviderID, Category, CategoryID, Status}) => {\n      return (\n        <tr>\n          <td>{Req}</td>\n          <td>{ProviderID}</td>\n          <td>{Category}</td>\n          <td>{CategoryID}</td>\n          <td>{Status}</td>\n          <td>\n          <ButtonToolbar>\n          <button type=\"button\" onClick={()=>this.acceptRequest(Req,this.state.patID)} className=\"btn btn-success\"><Icon size={'18'} icon={check}/></button>\n          <button type=\"button\" onClick={()=>this.rejectRequest(Req,this.state.patID)} className=\"btn btn-danger\"><Icon size={'18'} icon={x}/></button>\n         </ButtonToolbar>\n         </td>\n       </tr>\n      );\n    }\n  \n    const TableRow2 = ({ Req, ProviderID, Category, CategoryID, Status}) => {\n        return (\n          <tr>\n            <td>{Req}</td>\n            <td>{ProviderID}</td>\n            <td>{Category}</td>\n            <td>{CategoryID}</td>\n            <td>{Status}</td>\n            <td>\n            <ButtonToolbar>\n              <button type=\"button\" onClick={()=>this.revokeRequest(Req,this.state.patID)} className=\"btn btn-primary\"><Icon size={'18'} icon={x}/></button>\n            </ButtonToolbar>\n            </td>\n          </tr>\n        );\n      }\n  \n      const TableRow3 = ({ Req, ProviderID, Category, CategoryID, Status}) => {\n          return (\n            <tr>\n              <td>{Req}</td>\n              <td>{ProviderID}</td>\n              <td>{Category}</td>\n              <td>{CategoryID}</td>\n              <td>{Status}</td>\n              <td>\n              </td>\n            </tr>\n          );\n        }\n  \n        const TableRow4 = ({ SrNo, blockNumber, prevHash, currentHash}) => {\n          return (\n            <tr>\n              <td>{SrNo}</td>\n              <td>{blockNumber}</td>\n              <td>{prevHash}</td>\n              <td>{currentHash}</td>\n            </tr>\n          );\n        }\n\n    return (\n      <div>\n        <div>\n          <ProfileBar />\n          <Nav />\n        </div>\n        <div className=\"container\">\n      <div className=\"well well-lg\">\n         <div className = \"row\">\n          <div className =\"col-8\">\n            <div className =\"row-1\">\n              <div className =\"panel panel-primary\">                \n              <div className=\"panel-body\">\n                <div className=\"table-hover\">\n                  <table className =\"table\">\n                  <thead>\n                      <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">DoctorID</th>\n                        <th scope=\"col\">Category</th>\n                        <th scope=\"col\">CategoryID</th>\n                        <th scope=\"col\">Status</th>\n                        <th scope=\"col\">Response</th>\n                      </tr>\n                      </thead>\n                      <tbody>\n\n                      {\n                          this.state.requests.map((request) => {\n                            if (request.record.Status == \"pending\"){\n                            return (\n                                <TableRow1\n                                  key={request.reqID}\n                                  Req={request.reqID}\n                                  ProviderID={request.record.ProviderID}\n                                  Category={request.record.Category}\n                                  CategoryID={request.record.CategoryID}\n                                  Status={request.record.Status}\n                                />\n                            );\n                          } else if( request.record.Status == \"accepted\"){\n                            return (\n                                <TableRow2\n                                  key={request.reqID}\n                                  Req={request.reqID}\n                                  ProviderID={request.record.ProviderID}\n                                  Category={request.record.Category}\n                                  CategoryID={request.record.CategoryID}\n                                  Status={request.record.Status}\n                                />\n                            );\n                          } else {\n                            return (\n                                <TableRow3\n                                  key={request.reqID}\n                                  Req={request.reqID}\n                                  ProviderID={request.record.ProviderID}\n                                  Category={request.record.Category}\n                                  CategoryID={request.record.CategoryID}\n                                  Status={request.record.Status}\n                                />\n                                );\n                          }\n                              })\n                        }\n                    </tbody>\n                    </table>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </div>\n  <div className =\"col-4\">\n      <div className =\"panel panel-primary\">\n          <div className=\"panel-body\">\n            <center>\n                  <img src=\"https://static0.fitbit.com/simple.b-cssdisabled-jpg.h0c2a5f210795535caebd5d7da4a1d7e0.pack?items=%2Fcontent%2Fassets%2Fapp2%2Fimages%2Fscreen-04-log-weight.jpg\" height=\"400\" width=\"250\"/>\n            </center>\n          </div>\n       </div>\n    </div>\n</div>\n<div className =\"col-12\">\n    <div className =\"row-1\">\n        <div className=\"panel-heading\"> BLOCKS</div>\n           <div className =\"panel panel-primary\">\n          <div className=\"panel-body\">\n           <div className=\"table-hover\">\n            <table className =\"table\" style={{fontSize:'15px'}}>\n            <thead>\n           <tr>\n           <th scope=\"col\">#</th>\n           <th scope=\"col\">Block Number</th>\n           <th scope=\"col\">Previous Hash</th>\n           <th scope=\"col\">Current Hash</th>\n           </tr>\n           </thead>\n           <tbody style={{'wordBreak': 'break-all'}}>\n            {\n              this.state.blockdata.map((upload) => {\n                 return (\n                     <TableRow4\n                       key={upload.srno}\n                       SrNo={upload.srno}\n                       blockNumber={upload.block.blockNumber}\n                       prevHash={upload.block.prevHash}\n                       currentHash={upload.block.dataHash}\n                     />\n                 );\n               })\n             }\n\n           </tbody>\n           </table>\n              </div>\n            </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      </div>\n      </div>\n    );\n  }\n});"]},"metadata":{},"sourceType":"module"}